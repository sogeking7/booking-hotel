<h1 nz-typography style="margin-bottom: 30px">Cities</h1>

<div class="table-operations" style="margin-bottom: 16px">
  <button nz-button nzType="primary" [routerLink]="['new']"><i nz-icon nzType="city-add"></i>New City</button>
</div>

<nz-table
  #cityTable
  [nzFrontPagination]="true"
  [nzData]="cities"
  nzBordered
  nzShowPagination
  nzShowSizeChanger
  [nzSize]="'small'"
  [nzLoading]="isLoading.cities"
>
  <thead>
  <tr>
    <th>ID</th>
    <th>City name</th>
    <th>Actions</th>
  </tr>
  </thead>
  <tbody>
  <tr *ngFor="let u of cityTable.data">
    <td>{{ u.id }}</td>
    <td>{{ u.name }}</td>
    <td>
      <button nz-button nzType="link" [routerLink]="[u.id, 'edit']">
        <i nz-icon nzType="edit" nzTheme="outline"></i>
      </button>
      <button
        nz-button
        nzType="link"
        nzDanger
        nz-popconfirm
        nzPopconfirmTitle="Are you sure you want to delete this city?"
        nzPopconfirmPlacement="top"
        (nzOnConfirm)="deleteCity(u.id)"
        [nzLoading]="isLoading.delete"
      >
        <i nz-icon nzType="delete" nzTheme="outline"></i>
      </button>
    </td>
  </tr>
  </tbody>
</nz-table>
