<h1 nz-typography style="margin-bottom: 30px">Hotels</h1>

<div class="table-operations" style="margin-bottom: 16px">
  <button nz-button nzType="primary" [routerLink]="['/hotels', 'new']">
    <i nz-icon nzType="hotel-add"></i>New Hotel
  </button>


  <div class="search-box" style="margin-top: 16px; margin-bottom: 16px; display: flex; gap: 8px;">
    <input
      type="text"
      [(ngModel)]="searchTerm"
      (input)="onSearchChange()"
      placeholder="Search hotels..."
      style="padding: 8px; width: 300px; border: 1px solid #d9d9d9; border-radius: 4px;"
    />
    <button nz-button nzType="primary" (click)="onSearch()">Filter</button>
  </div>
</div>


<nz-table
  #hotelTable
  [nzData]="hotels"
  [nzBordered]="true"
  [nzShowPagination]="true"
  [nzShowSizeChanger]="true"
  [nzSize]="'small'"
  [nzLoading]="loading"
  [nzPageIndex]="pageIndex"
  [nzTotal]="total"
  [nzPageSize]="pageSize"
  (nzQueryParams)="onQueryParamsChange($event)">
  <thead>
    <tr>
      <th>ID</th>
      <th>Name</th>
      <th>City ID</th>
      <th>Address</th>
      <th>Phone</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let h of hotelTable.data">
      <td>{{ h.id }}</td>
      <td>{{ h.name }}</td>
      <td>{{ h.cityId || 'N/A' }}</td>
      <td>{{ h.address }}</td>
      <td>{{ h.phone || '-' }}</td>
      <td>
        <a nz-button nzType="link" [routerLink]="[h.id]">View Details</a>
        |
        <a nz-button nzType="link" [routerLink]="[h.id, 'rooms']">
          View Rooms
        </a>
        |
        <a nz-button nzType="link" [routerLink]="[h.id, 'edit']">
          ✏️ Edit
        </a>
      </td>


    </tr>
  </tbody>
</nz-table>
